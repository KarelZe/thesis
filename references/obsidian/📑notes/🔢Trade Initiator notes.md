
## Trade Initiator in CBOE / ISE dataset
relates to [[üåèDataset]]


### How the trade initiator is obtained
- ‚ÄúBecause evaluating the performance of trade classification algorithms requires information on the true side of the trade, we combine information from intraday transaction data and daily Open/Close data to arrive at such a benchmark. Our two Open/Close datasets are available on a daily level and cover trading volume at the ISE and the CBOE, respectively.‚Äù ([[@grauerOptionTradeClassification2022]], p. 8) https://datashop.cboe.com/documents/Option_Trades_Layout.pdf and https://datashop.cboe.com/documents/Option_Quotes_Layout.pdf
- ‚ÄúWe take advantage of the fact that if there were only customer buy (sell) orders on a specific day for a given option series at one particular exchange, Open/Close data allows to classify all transactions in the LiveVol dataset on that day at the respective exchange as buy (sell) orders.‚Äù ([[@grauerOptionTradeClassification2022]], p. 8)
- https://www.cboe.com/us/equities/trading/offerings/order_types_and_routing/
- ‚ÄúWe take advantage of the fact that if there were only customer buy (sell) orders on a specific day for a given option series at one particular exchange, Open/Close data allows to classify all transactions in the LiveVol dataset on that day at the respective exchange as buy (sell) orders.‚Äù (Grauer et al., 2022, p. 8) ‚ÄúConsistent with previous literature, we assume that the customer is the party with a demand for options.‚Äù (Grauer et al., 2022, p. 8) ‚ÄúTherefore, we use the customer buy/sell indicator obtained from Open/Close data as the benchmark to empirically validate the accuracy of trade classification methods applied to intraday option transactions from LiveVol.‚Äù (Grauer et al., 2022, p. 8)
- ‚ÄúFor each record in the matched trade sample, one of five trader types is available: M, C, B, F, and N. The letter represents the account to which a trade is assigned. CBOE market makers are indicated by M, and public customer accounts are denoted by C. Broker-dealer accounts (as distinct from market maker accounts) are represented by B and are defined according to the SEC‚Äôs definition of a broker-dealer. These trades are done on their own behalf, not as agents (which would be listed as C trades). F and N indicate firm and non-member accounts. It is worth noting that CBOE members representing large financial conglomerates, such as Merrill Lynch or Fidelity, might trade as M, B, or F, depending on which account is to be assigned to the trade. The data do not provide information on the identity of each trader, only the type.‚Äù ([[@savickasInferringDirectionOption2003]], 2003, p. 884)


Following a common track in literature, we 

## Views
- ‚ÄúIn the literature, researchers use different definitions of trade initiators based presumably on data availability. Odders-White (2000) considers the last arriving order to be the trade initiator. She can make this determination because the TORQ database includes the NYSE audit file, which contains order-entry time for both sides of the trade. Papers such as Lee (1992) and Petersen and Fialkowski (1994) consider the active side to be market orders. Kraus and Stoll (1972) consider the active side to be the side with fewer parties. Finucane (2000) and Lee and Radhakrishna (2000) note many orders cannot be unambiguously defined as buyeror seller-initiated. Finucane (2000) finds that nearly one-fourth of all trades do not occur as the result of the arrival of a market order. In his final analysis, Finucane (2000) examines trades with at least one standard non-tick sensitive buy or sell market order in the trade. Ellis et al. (2000) and Theissen (2000) take the approach of inferring trade direction fromthe side contra to the dealer.‚Äù ([[@petersonEvaluationBiasesExecution2003]], p. 263)

‚ÄúBecause we do not have access to the NYSE audit file, we cannot define a trade initiator in the same way as those who have used TORQ data. Therefore, our approach will be to begin with all regular-way orders and exclude orders that are most likely not initiators. The following orders are excluded: (a.) limit orders that are not ‚Äòmarketable‚Äô, that is buy orders with limit price less than the ask or sell orders with limit price greater than the bid, (b.) tick sensitive orders because they usually do not initiate trades, (c.) stopped,3 or guaranteed orders, because these orders tend to be more like limit orders, and (d.) partial executions of marketable limit orders for more shares than are at the best quote and execute in multiple parts.‚Äù ([[@petersonEvaluationBiasesExecution2003]], p. 264)
- There are different views of what is considered as buyer / seller initiated i. e. [[@odders-whiteOccurrenceConsequencesInaccurate2000]] vs. [[@ellisAccuracyTradeClassification2000]]
(see [[@theissenTestAccuracyLee2000]] for more details)
- ‚ÄúThe goal of the trade side classification is to determine the initiator of the transaction and to classify trades as being either buyer or seller motivated. However, a formal definition of a trade initiator is rarely stated in the literature. For example, the so-called ‚Äúimmediacy‚Äù definition describes initiators as traders who demand immediate execution (e.g. Lee and Radhakrishna, 2000). According to Odders-White (2000), the initiator of a transaction is the investor (buyer or seller) who placed his/her order last, chronologically (the so called ‚Äúchronological‚Äù definition). These two definitions are equivalent in many cases. In both definitions, the initiator is the person who caused the transaction to occur.‚Äù ([[@olbrysEvaluatingTradeSide2018]]  p. 4)
- ‚ÄúConsistent with previous literature, we assume that the customer is the party with a demand for options. ‚ÄúTherefore, we use the customer buy/sell indicator obtained from Open/Close data as the benchmark to empirically validate the accuracy of trade classification methods applied to intraday option transactions from LiveVol.‚Äù  ([[@grauerOptionTradeClassification2022]], p. 8)
-- ‚ÄúA trade initiator as also understood as <mark style="background: #D2B3FFA6;">the last party to agree to the trade or the party whose decision causes the trade to occu</mark>r (Lee and Radhakrishna 2000; Odders-White 2000; Chakrabarty et al. 2012).‚Äù ([[@nowakAccuracyTradeClassification2020]], p. 66)
- ‚ÄúThe goal of trade classi"cation is to correctly determine the initiator of the transaction. Although the concept of a trade initiator is used throughout the "nance literature, a formal de"nition of the term is rarely stated. No examination of the accuracy of trade classi"cation algorithms can be conducted, however, without an explicit de"nition of the term &initiator'. One way to describe initiators is as traders who demand immediate execution (hereafter, the immediacy de"nition). A natural consequence of this de"nition is that traders placing market orders (or limit orders at the opposite quote) <mark style="background: #ABF7F7A6;">are labeled the initiators, and traders placing limit orders are viewed as non-initiators or passive suppliers of liquidity. A variant of this de"nition is used by Lee and Radhakrishna (1996) in their evaluation of the Lee and Ready algorithm. </mark>Problems with this de"nition arise, however, when market orders cross, when limit orders are matched with other limit orders, and when market orders areOne way to describe initiators is as traders who demand immediate execution <mark style="background: #ADCCFFA6;">(hereafter, the immediacy de"nition).</mark> A natural consequence of this de"nition is that traders placing market orders (or limit orders at the opposite quote) are labeled the initiators, and traders placing limit orders are viewed as non-initiators or passive suppliers of liquidity‚Äù (Odders-White, 2000, p. 261) Problems with this de"nition arise, however, when market orders cross, when limit orders are matched with other limit orders, and when market orders Fig. 1. Sample transaction. stopped, all of which can occur frequently. In the TORQ data, crossed market orders represent almost 12% of the transactions involving market and/or limit orders on both the buy and the sell sides, and limit orders matched with limit orders constitute another 17%. In addition, Ready (1999) found that 29% of the market orders in the TORQ data are stopped. Lee and Radhakrishna circumvent this problem by focusing only on transactions that take place between a &clearly active' trader and a &clearly passive' trader, thereby eliminating most of these transactions from their study. Unfortunately, studies that utilize trade classi"cation algorithms apply the algorithms to all transactions, not to a select subset. Furthermore, if the data being used contain the order information necessary to distinguish between the active and the passive side, then trade classi"cation algorithms are unnecessary. Consequently, in this paper I use the following, more general, de"nition of initiator: De5nition. <mark style="background: #ADCCFFA6;">The initiator of a transaction is the investor (buyer or seller) who placed his or her order last, chronologically.</mark> The intuition behind the de"nition above (<mark style="background: #FF5582A6;">hereafter, the chronological de"nition</mark>) is very similar to that behind the immediacy de"nition. In both cases, the initiator is the person who caused the transaction to occur. In other words, by placing an order, the initiator determined the price and/or timing of the transaction. In fact, the two de"nitions are equivalent in many cases. For example, consider the transaction record in Fig. 1. The buy limit order was placed at 1:02:55 and was matched with the standing sell limit order that had been placed approximately 2 h earlier. Consequently, this transaction is classi"ed as buyer-initiated using the chronological de"nition above. The transaction in this example would also be classi"ed as buyerinitiated using the immediacy de"nition, since the buy limit order was placed at the prevailing ask quote.‚Äù (Odders-White, 2000, p. 262)
- In a high-frequency setting, trade classification is much more difficult. In the **futures markets** we investigate, there is **no specialist**, and liquidity arises from an electronic order book containing limit orders placed by a variety of traders. In this electronic market, a trader could hit the book at the same level as the last trade or could submit a limit order that improves the last traded price, and the tick rule can assign the wrong side to the trade.9 Additionally, order splitting is the norm, cancellations of quotes and orders are rampant, and the sheer volume of trades is overwhelming.10 Using E-mini S&P 500 futures data from May 2010, we found that an average day featured 2,650,391 bestbid-or-offer (BBO) quote changes due to order additions or cancellations, and 789,676 quote changes due to trades. Because the BBO changes several times between trades, many contracts exchanged at the same price in fact occurred against the bid and the offer. In this high-frequency world, applying standard algorithms over individual transactions is problematic. -> there seems to be a market trader for CBOE and specialist works at the floor and is a type of market maker.

### Immediacy View
- Submitters of market orders are called liquidity demanders, while submitters of limit orders stored stored in the book are liquidity providers.
- ‚ÄúA buyer-initiated trade (a buy) is a trade triggered by a buy market order matched against one or more sell limit orders in the order book. The opposite holds for a seller-initiated trade (a sell), where a sell market order is matched against one or more buy limit orders in the order book. Submitters of market orders are called liquidity demanders, while submitters of limit orders stored in the book are called liquidity providers. Trades for which a buyer and a seller are the same entity (crosses), as well as trades executed during single price auctions (exchange-initiated) represent a small fraction of all trades and are excluded from our analysis. The side of the market which submits a market order and thereby initiates a trade is called a trade initiator. The trade initiator is the same as the initiator of the market order which triggered the trade, which allows to use the former to determine the latter.1‚Äù ([[@blazejewskiLocalNonparametricModel2005]], 2005, p. 482)
- ‚ÄúWhen trade IDs are available, the chronological approach is used where the trade initiator is identified as being the trader who places an order last chronologically. The two-part rationale behind this approach is that: (i) the first-in party to the trade acts as the liquidity provider at its chosen price; and (ii) the last-in party pays the ‚Äúimmediacy premium‚Äù for the rapid execution of the trade. The advantage of this approach is that it considers both dimensions of liquidity for a wider set of order type pairings.‚Äù ([[@aktasTradeClassificationAccuracy2014]], p. 267)
- ‚ÄúSince the times and IDs of each order and trade are available for our propriety dataset from the BIST, we use the more accurate chronological approach as the benchmark for the true initiator of a trade.3 ‚Äú3 When trader IDs are not available (Lee and Ready, 1991), the immediacy approach defines the trade initiator as the trader<mark style="background: #FFB86CA6;"> who demands immediate execution (i.e., places a market order) and the non-initiator as the trader who is a liquidity provider but does not require immediate execution (i.e., places a limit order).‚Äù </mark>([[@aktasTradeClassificationAccuracy2014]], 2014, p. 261)

## Chronological View
- ‚ÄúWhen trade IDs are not available, a trade is assumed to be initiated by the trader whose market order has been executed against a standing limit order. The advantage of this immediacy approach is that it considers both dimensions of liquidity for trades that match a market with a limit order that are on opposite sides of the market. However, as noted by Odders-White (2000), this approach cannot identify the actual trade initiator for crossed market orders, limit‚Äìlimit order matches and stopped market orders.‚Äù ([[@aktasTradeClassificationAccuracy2014]], p. 267)
‚Äú2.3 True Trade Initiator In order to identify whether each trade in our sample is a buy or a sell, we follow the definition of initiator used in Odders-White (2000).13 She defines the trade initiator based on chronological order arrival, that is, the order that arrives second is the order that actually ‚Äúinitiates‚Äù the trade. For example if a market buy order comes in at 11:15AM and hits a limit sell order that had been standing in the book since 11:00AM, that trade would be classified as a buy for our purposes. To determine the true trade initiator in our sample, we first classify fully-executed orders into active and passive categories. An active order is executed at the same date and time as it is submitted to the marketplace, and is, essentially, a market order. In other words, the submission of an active order leads directly to a trade and the trade initiator will take the same buy or sell direction as that trig12 According to Euronext rules, from 07:15 until 09:00, orders accumulate in the order book, at 09:00 orders in the central book are matched and an opening price is set. Stocks are then to trade continuously starting at 09:01 so we are being conservative in deleting the first 15 minutes. This process occurs at the end of the day as well, with orders accumulating in the book starting at 17:25. <mark style="background: #FFF3A3A6;">13 Ellis et al. (2000) note that the Odders-White (2000) method is preferred when a researcher has access to the order book, as we do.</mark> Current work on LR uses this classification scheme (see, for example, Chakrabarty et al. (2012))‚Äù gering active order. A passive order is a non-market order whose execution time is always later than its submission time. In this case, the initiator of a trade will be the opposite buy or sell direction of a matching passive order. Active orders account for 97.59% of true trade initiator matches across our sample.‚Äù (Panayides et al., 2014, p. 11)


