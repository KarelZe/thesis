## Transaction Cost

See [[@jurkatisInferringTradeDirections2022]].
Effective spread calculation. See e. g., [[@ellisAccuracyTradeClassification2000]].

“To give the improvement in classification accuracy more economic meaning, I apply the trade classification methods to the estimation of transaction costs. The transaction costs in turn are used in a portfolio optimization exercise. The results show that an investor with a mean-variance utility function would be willing to forgo up to 33 bps on yearly returns to use the proposed algorithm to estimate transaction costs instead of the LR algorithm.” ([[@jurkatisInferringTradeDirections2022]], 2022, p. 7)

## Effective Spread

- **Why it is important:** 
- Petersen,M., and D. Fialkowski. "Postedversus Effective Spreads: Good Prices or Bad Quotes?" Journalof FinancialEconomics,35 (1994), 269-292. [[@petersenPostedEffectiveSpreads1994]]
- Piwowar, M.S., Wei, L., 2006. The sensitivity of effective spread estimates to trade–quote matching algorithms. Electron. Mark. 16 (2), 112–129.
- For good background explanation see: [[@petersonEvaluationBiasesExecution2003]]

- **Why it is important:** “While this may seem a relatively modest improvement, a more compelling case for the proposed algorithm arises in specific applications. An important ap? plication of trade classification algorithms is the computation of effective bid-ask spreads, which measure the difference between actual trade prices and quotes (see Petersen and Fialkowski (1994)). When trades routinely transact between the quotes, this measure will give a smaller, and more accurate, estimate of trans? actions costs than do posted bid-ask spreads.” ([[@ellisAccuracyTradeClassification2000]]p. 540)

- **Description in Savickas:** To assess the applicability of trade classification rules to estimating the effective bid-ask spread in the options market, we compute the dollar spread as follows: $S_i=2\left(P_{t, i}-P_{m, i}\right) I$, where $S_i$ is the effective spread implied by the price of transaction $i ; P_{m, i}$ is the bid-ask spread midpoint using quotes outstanding at the time of transaction $i ; P_{t, i}$ is the option price at transaction $i$; and $I=1$ if trans'action $i$ is a buy and $I=-1$ if it is a sell. The percentage spread is computed as $P S_i=S_i / P_{m, i}$. Dollar and percentage spreads estimated by each of the classifiication techniques are averaged over the entire sample and compared to the actual iaverage effective spreads. The results are in Table 5. All four methods perform poorly at estimating effective bid-ask spread for options. ([[@savickasInferringDirectionOption2003]], p. 7)

- “The effective spread is calculated as Effective spread = 2 * I ([transaction price - midpoint price]), where / is an indicator variable that equals one for buy trades and negative one for sell trades, and the midpoint is the average of the bid and ask prices. Obviously, correct classification of buy and sell trades is crucial in calculations of the effective spread.14” (Ellis et al., 2000, p. 541)

- **Motivation in Theissen:** “Usually, an estimate of the effective bid-ask spread is obtained by relating the transaction price to the midpoint of the bid and ask quote, i.e. 200 tt e t pm sm − = (1) where pt is the transaction price and mt is the midpoint of the bid and ask quote at the moment when the transaction occurs. We multiply the measure by 200 and divide it by the midquote to obtain an estimate of the percentage spread (rather than the half-spread). This measure im” (Theissen, 2000, p. 11)
- “12 plicitly assumes that transactions at prices above [below] the midpoint are buyer-initiated [seller-initiated]. Put differently, the assumption is made that the quote test classifies all transactions correctly. If this assumption is not true, some transactions at prices below the midpoint are buys and some transactions at prices above the midpoint are sells. This will result in a downward bias of the estimated effective spread irrespective of whether there is any systematic pattern in the classification accuracy. If the true trade classification is known and denoted true I (with true I equal to 1 [-1] for a buyer-initiated [seller-initiated] transaction), the effective spread can be estimated as () 200 true t t e t Ipm sm − = (2) Lightfood et al. (1999) compare this estimate to the traditional spread estimate and find that the bias of the traditional measure is economically significant, amounting to up to 30%.” (Theissen, 2000, p. 12)
- **Statistical test:** “We repeated this analysis with our dataset from the Frankfurt Stock Exchange. The results are presented in columns 2 and 3 of Table 5. The bias is even more dramatic. The traditional spread estimate is, on average, about twice as large as the “true” spread.8 A Wilcoxon test rejects the null hypothesis of equal medians (p < 0.01). Despite the large differences, the correlation between the two spread estimates is very high (ρ= 0.96). The magnitude of the relative bias (i.e., the traditional spread estimate divided by the “true” spread) is strongly negatively related to the classification accuracy. The correlation is –0.84.” (Theissen, 2000, p. 12)

- “Although it is clear that the classification errors associated with LR's algo? rithm and the tick test are significant, it is important to consider whether em? pirical research employing these methods might be biased by the errors. Since these methods are most commonly applied in estimating effective bid-ask spreads and signed volume, the possibility that imperfectly inferring trade direction might bias empirical inferences is tested by comparing true effective spreads to effective spreads estimated using LR's method and the tick test, and by comparing true signed volume to signed volume estimated using the two methods of inferring trade direction. The sample of 144 firms is first divided into dollar volume deciles, and mean effective percentage bid-ask spreads are estimated for each decile. Effective spreads are measured as twice the percentage half-spread for each observation, (3) ESl7 = 2(l00)(Dit)(Sit-Mit)/Mih where Du = 1 for purchases and ? 1 for sales, Sit is the trade price for stock i at time r, and Mit is the midpoint of the quoted spread. Du is measured in three ways: using the true order direction from the TORQ order file, using LR's algorithm, and using the tick test.13 The true effective spreads, estimated effective spreads, and quoted spreads are presented in (see screenshot below).” (([[@finucaneDirectTestMethods2000]], p. 569)
- ${ }^{13}$ Since LR's algorithm always assigns a direction of one to trades above the midpoint and $-1$ to trades below the midpoint, and since the effective spread for trades at the midpoint is equal to zero, an equivalent expression for the effective spread under LR's method is: $\mathrm{ES}_{i t}=2(100)\left|S_{i t}-M_{i t}\right| / M_{i t}$. ([[@finucaneDirectTestMethods2000]]569)

![[eff-spread-finucane.png]]